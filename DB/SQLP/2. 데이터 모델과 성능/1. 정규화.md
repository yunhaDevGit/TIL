# 정규화

## 제1정규형 : 모든 속성은 반드시 하나의 값을 가져야 한다

속성 값이 여러개 혼재 되어 있고, 명확하지 않은 속성에 다른 유형의 데이터를 포함할 수 있어 본연의 의미가 퇴색될 수 있다. 

→ 개발 복잡성 증가, 속성의 의미 퇴색됨

다중값을 제거함으로써 속성을 더 명확하게 활용할 수 있고, 개발의 복잡성을 감소시킬 수 있다.

또한 다른 유형의 중복 데이터를 속성으로 분리하는 것도 제1정규화이다.

## 제2정규형 : 엔터티의 일반 속성은 주식별자 전체에 종속적이어야 한다

아래의 표에는 상품번호와 상품명이 중복되는 데이터이다. 상품명은 식별자인 ‘주문번호+상품번호’가 아닌 오직 상품번호에만 종속적이다. 이를 함수적 종속성이라고 한다.

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/d574f801-fc6e-4d81-b66b-595853e94ed3/Untitled.png)

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/f6089247-7d15-4243-a0e4-9fdda6d0fa69/Untitled.png)

함수종속성은 데이터들이 어떤 기준값에 의해 종속되는 현상을 말한다. 

기준값을 결정자(Determinant)라고 하고, 종속되는 값을 종속자(Dependent)라고 한다. 

데이터  중복은 성능과 정합성에 문제를 발생시킨다. 아래와 같이 중복된 데이터를 분리하는 데이터를 일원화해 관리하는 것을 제2정규형이라고 한다.

**‘일반속성은 주식별자 전체에 종속해야 한다’**

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/068b85a7-1247-4222-ba37-4e30819b0782/Untitled.png)

## 제3정규형 : 엔터티의 일반속성 간에는 서로 종속적이지 않는다

```java
주분번호 -> 고객번호 이면 고객변호 -> 고객명 이면 주문번호 -> 고객명
```

위와 같은 것을 이행적 종속(Transitive Dependency)라고 하고, 이행적 종속을 배제하는 것을 제3정규형이라고 한다.

위의 상황에서 발생되는 문제는 다음과 같다.

- 고객명이 바뀌면 주문 엔터티의 고객명을 전부 갱신해야 한다. 이는 주문과 전혀 관계 없는 트랜잭션이다.
- 데이터 중복으로 인해 성능 부하 및 정합성 오류가 발생할 수 있다.

## 반정규화

반정규화는 정규화를 반대로 하는 것으로 역정규화라고도 한다. 

정규화는 데이터의 중복을 최소화로 했다면, 반정규화는 성능을 위해 데이터 중복을 허용하는 것이다.
