# 데이터 모델의 이해

## 모델링의 이해

### 모델링의 정의

- 복잡한 현실 세계를 일정한 표기법에 따라 표현한 일
- 웹스터 사전 : 어떤 것에 대한 예비 표현으로 그로부터 최종 대상이 구축되도록 하는 계획으로 서 기여하는 것
- 모델이랑 사물 또는 사건에 관한 양상(Aspect)나 관점(Perspective)을 연관된 사람이나 그룹을 위해 명확하게 하는 것
- 모델이란 현실 세계를 추상화한 반영

### 모델링의 특징

- **추상화** : 현실세계를 일정한 형식에 맞추어 표현 한다는 의미로 정리할 수 있다. 즉, 다양한 현상을 일정한 양식인 표기법에 따라 표현하는 것
- **단순화** : 복잡한 현실세계를 약속된 규약에 의해 제한된 표기법이나 언어로 표현하여 쉽게 이해할 수 있도록 하는 개념
- **명확화** :  누구나 이해하기 쉽게 하기 위해 대상에 대한 애매모호함을 제거하고 정확하게 현상을 기술하는 것

→ 모델링 : 현실세계를 추상화, 단순화, 명확화하기 위해 일정한 표기법에 의해 표현하는 기법

### 모델링의 세가지 관점

**1) 데이터 관점(What, Data)** : 업무가 어떤 데이터와 관련 있는지 또는 데이터 간의 관계는 무엇인지에 대해 모델링

**2) 프로세스 관점(How, Process)** : 실제하고 있는 업무는 무엇인지 또는 무엇을 해야 하는지 모델링 하는 방법

**3) 데이터와 프로세스의 상관 관점(Interaction)** : 업무가 처리하는 일의 방법에 따라 데이터는 어떻게 영향을 받고 있는지 모델링 하는 방법

## 데이터 모델의 기본 개념 이해

### 데이터 모델링의 정의

- 정보시스템을 구축하기 위해, 해당 **업무에 어떤 데이터가 존재하는지** 또는 **업무가 필요로 하는 정보는 무엇인지를 분석**하는 방법
- 업무에서 필요로 하는 데이터를 시스템 구축 방법론에 따라 분석하고 설계하여 정보시스템을 구축하는 과정

> ****************************************데이터 모델링****************************************
- 정보시스템을 구축하기 위한 데이터 관점의 업무 분석 기법
- 현실세계의 데이터에 대한 약속된 표기법에 의해 표현하는 과정
- 데이터베이스를 구축하기 위한 분석/설계의 과정
> 

### 데이터 모델이 제공하는 기능

- 시스템을 현재 또는 원하는 모습으로 가시화하도록 도와준다
- 시스템의 구조와 행동을 명세화 할 수 있다
- 시스템을 구축하는 구조화한 틀을 제공한다
- 시스템 구축 과정에서 결정한 것을 문서화한다
- 다양한 영역에 집중하기 위해 다른 영역의 세부 사항은 숨기는 다양한 관점을 제공한다
- 특정 목표에 따라 구체화한 상세 수준의 표현 방법을 제공한다

## 데이터 모델링의 중요성과 유의점

**************중요성**************

`파급효과(Leverage)`, `복잡한 정보 요구 사항의 간결한 표현(Conciseness)`, `데이터 품질(Data Quality)`

- 파급효과
    - 시스템 개발 완료 후 불가피하게 데이터 모델의 변경이 발생돼야 할 경우, 데이터 구조 변경은 전체 시스템 구축에 큰 위험 요소이다. 다른 어떤 설계보다 데이터 설계가 중요하다.
- 복잡한 정보 요구 사항의 간결한 표현
    - 정보 요구 사항이 정확하고 간결하게 표현되어야 한다
- 데이터 품질
    - 오랜기간 데이터가 쌓이게 되면 데이터 품질적인 문제가 발생할 수 있다
    - 중복 데이터의 미정의, 데이터 구조에서 비즈니스 정의의 불충분, 동일 성격 데이터 분리 등 데이터 불일치 등의 문제는 바로잡기 힘들 수 있다

**************유의점**************

`중복`, `비유연성`, `비일관성`

- 중복
- 비유연성
    - 데이터 모델은 사소한 일에도 수시로 변경될 수 있기 때문에 데이터 정의를 데이터 사용 프로세스와 분리하여 데이터 혹은 프로세스의 작은 변화가 애플리케이션과 데이터베이스에 중대한 변화를 일으킬 가능성을 줄인다
- 비일관성
    - 데이터 중복이 없더라도 비일관성은 발생한다.
    - 데이터와 데이터 간 상호 연관 관계에 대한 명확한 정의를 통해 예방할 수 있다

## 데이터 모델링의 3단계

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/97818adc-fba3-40d2-a666-c8d0a3e3e80c/Untitled.png)

1. 개념적 데이터 모델링 : 현실세계에서 추상화 수준이 높은 상위 수준을 형상화하기 위해 사용
    - 추상화 수준이 높고 업무 중심적이고 포괄적인 수준의 모델링
    - 전사적 데이터 모델링
    - EA 수립시 많이 사용
2. 논리적 데이터 모델링 : 업무의 구체적인 모습과 흐름에 따른 구체화한 업무 중심의 데이터 모델
    - 시스템으로 구축하고자 하는 업무에 대해 Key, 속성, 관계 등을 정확하게 표현
    - 재사용성이 높다
3. 물리적 데이터 모델링 : 데이터베이스의 저장 구조에 따른 테이블 스페이스 등을 고려한 방식
    - 실제 데이터베이스에 이식할 수 있도록 성능, 저장 등 물리적인 성격을 고려하여 설계

### 개념적 데이터 모델링

- 개념적 데이터베이스 설계(개념 데이터 모델링, Conceptual Data Modeling)
- 핵심 엔터티와 그들간의 관계를 발견하고, 표현하기 위해 ****************************`엔터티-관계 다이어그램을 생성`****************************
- 전사적 데이터 모델(Enterprise Data Model) : 데이터모델링 과정이 전 조직에 걸쳐 이뤄진 것
- 개념적 데이터 모델 기능
    - 추상적이므로 상위 문제에 대한 구조화를 쉽게 하며 사용자와 개발자가 시스템 기능에 대해 논의할 수 있는 기반 제공
    - 현 시스템이 어떻게 변형되어야 하는지 표현이 쉬움 → 고립된 시스템도 추상적 모델링을 통해 더 쉽게 표현되고 설명됨

### 논리적 데이터 모델링

- 논리 데이터 모델링(Logical Data Modeling)
- 데이터베이스 설계 프로세스의 Input으로서 비즈니스 정보의 논리적인 구조와 규칙을 명확하게 표현하는 기법 또는 과정
- 논리 데이터 모델 상세화 과정의 대표적인 활동으로 `정규화`가 있다.
    - 정규화는 논리 데이터 모델의 **일관성을 확보**하고 **중복을 제거**하여 속성들이 가장 적절한 엔터티에 배치되도록 함으로써 **신뢰성 있는 데이터 구조를 얻는것**이 목표
- 논리 데이터 모델의 상세화 :  식별자 확정, 정규화, M:M 관계 해소, 참조 무결성 규칙 정의 등

### 물리적 데이터 모델링

- 물리 데이터 모델링(Physical Data Modeling)
- 물리적 스키마 : 데이터가 물리적으로 컴퓨터에 어떻게 저장될 것인가에 대한 정의

## 프로젝트 생명주기에서 데이터 모델링

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/a7293304-f1ce-400f-9e18-f45d8c4a7e81/Untitled.png)

## 데이터 모델링에서 데이터 독립성의 이해

### 데이터 독립성의 필요성

자신이 가지는 고유한 특징을 명확하게 할 뿐만 아니라 다른 기능의 변경으로부터 쉽게 변경되지 않고 자신의 고유한 기능을 가지고 기능을 제공할 수 있다.

```java
데이터 독립성 ↔ 데이터 종속성
```

**************************************************데이터 독립성의 필요**************************************************

1. 유지보수 비용의 증가
2. 데이터 중복성 증가
3. 데이터 복잡도 증가
4. 요구사항 대응 저하

****************************************************데이터 독립성의 효과****************************************************

- 각 뷰(view)의 독립성을 유지하고 계층별 뷰에 영향을 주지 않고 변경할 수 있다
- 단계별 스키마(schema)에 따라 데이터 정의(DDL)와 데이터 조작어(DML)가 다름을 제공한다

### 데이터베이스 3단계 구조

ANSI/SPARC의 3단계 구성의 데이터 독립성 모델은 외부 단계, 개념적 단계, 내부적 단계로 구성된 서로 간섭되지 않는 모델 제시

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/72c58c80-9c29-4316-a440-be54645dcb99/Untitled.png)

- 외부 스키마(External Schema)
    - 뷰 단계 여러 개의 사용자 관점으로 구성, 즉 개개 사용자 단계로서 개별 사용자가 보는 개인적 DB 스키마
    - DB의 개별 사용자나 응용 프로그래머가 접근하는 DB 정의
        - 사용자 관점
        - 접근하는 특성에 따른 스키마 구성
- 개념 스키마(Conceptual Schema)
    - 개념 단계 하나의 개념적 스키마로 구성 모든 사용자 관점을 통합한 조직 전체의 DB를 기술한 것
    - 모든 응용 시스템들이나 사용자들이 필요로 하는 데이터를 통합한 조직 전체의 DB를 기술한 것
    - DB에 저장되는 데이터와 그들 간의 관계를 표현하는 스키마
        - 통합 관점
- 내부 스키마(Internal Schema)
    - 내부 단계와 내부 스키마로 구성
    - DB가 물리적으로 저장된 형식
    - 물리적 장치에서 데이터가 실제적으로 저장되는 방법을 표현하는 스키마
        - 몰리적 저장 구조

### 두 영역의 데이터 독립성

- 논리적 독립성
    - 개념 스키마가 변경되도 외부 스키마에는 영향이 없음
    - 논리적 구조가 변경되어도 응용 프로그램에 영향 없음
    - 특징
        - 사용자 특성에 맞는 변경 가능
        - 통합 구조 변경 가능

- 물리적 독립성
    - 내부 스키마가 변경되어도 외부, 개념 스키마는 영향 없음
    - 저장장치의 구조 변경은 응용 프로그램과 개념 스키마에 영향 없음
    - 특징
        - 물리적 구조 영향 없이 개념 구조 변경 가능
        - 개념 구조 영향 없이 물리적인 구조 변경 가능

### 사상(Mapping)

- 외부적, 개념적 사상(논리적 사상)
    - 외부적 뷰와 개념적 뷰의 상호 관련성 정의
- 개념적, 내부적 사상(물리적 사상)
    - 개념적 뷰와 저장된 데이터베이스 상호 관련성 정의

## 데이터 모델링의 중요한 세가지 개념

### 데이터 모델링의 세가지 요소

1) 업무가 관여하는 어떤 것(Things) - 엔터티

2) 어떤 것이 가지는 성격(Attributes) - 속성

3) 업무가 관여하는 어떤 것 간의 관계(Relationship) - 관계

### 단수와 집합(복수)의 명명

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/eacac815-f03f-4d43-8282-bd7bfca503cc/Untitled.png)

## 데이터 모델 표기법 ERD 이해

### 데이터 모델 표기법

E-R 모델(Entity-relationship model) - 피터첸(peter chen)이 만듦

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/f5755257-9702-4898-b9d6-7a3d9cfda31c/Untitled.png)

### ERD 표기법으로 모델링하는 방법

ERD(Entity Relationship Diagram)은 각 업무 분석에서 도출된 엔터티와 엔터티 간의 관계를 이해하기 쉽게 도식화된 다이어그램으로 표시하는 방법.

**1) ERD 작업 순서**

1. 엔터티 그리기 : 엔터티는 사각형으로 표시
2. 엔터티 적절히 배치 : 가장 중요한 엔터티를 왼쪽 상단에 배치하면 보기 편함
3. 엔터티 간 관계 설정 : 중복되는 관계 , Circle 관계 발생하지 않도록 유의
4. 관계명 기술 : 지나치게 포괄적인 용어 사용 하지 말것
5. 관계의 참여도 기술 : 관계에 참여하는 엔터티 내 인스턴스들이 얼마나 관계에 참여하는지 나타내는 관계차수(Cardinality) 표현
6. 관계의 필수 여부 기술

## 좋은 데이터 모델의 요소

### 완전성

- 업무에 필요한 모든 데이터가 데이터 모델에 정의 되어야 한다(Completeness)

### 중복 배제

- 하나의 데이터베이스 내에 동일한 사실은 반드시 한 번만 기록해야 한다(Non-Redundancy)

### 업무 규칙

- 데이터 모델링 과정에서 도출되고 규명되는 업무 규칙(Business Rules)을 데이터 모델에 표현하고 이를 해당 데이터 모델을 활용하는 모든 사용자가 공유할 수 있도록 한다
- 데이터 모델을 사용하는 모든 사용자(개발자, 관리자)가 해당 규칙에 대해 동일한 판단을 하고 데이터 조작을 할 수 있다

### 데이터 재사용

- 데이터가 애플리케이션에 대해 독립적으로 설계되어야 데이터 재사용성(Data Reusability)를 높일 수 있다

### 의사소통

- 정보시스템을 운용,관리하는 많은 관련자들이 설계자가 정의한 많은 업무 규칙들을 동일한 의미로 받아들이고 활용할 수 있게 하는 역할을 하기 때문에 데이터 모델이 진정한 의사소통(Communication) 도구로서의 역할을 한다

### 통합성

- 동일한 데이터는 조직 전체에서 한번만 정의되고 이를 여러 다른 영역에서 참조, 활용하는 것(Integration)이 가장 바람직한 데이터 구조이다.
