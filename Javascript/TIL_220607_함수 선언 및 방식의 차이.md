# 함수 선언 및 방식의 차이

### 함수 선언문

```jsx
function sayHi() {
	alert("Hello");
}

alert(sayHi); // 함수 코드가 보인다
```

`sayHi` 옆에 괄호가 없기 때문에 함수가 실행되지 않고 함수 코드가 보입니다. 

함수를 호출하고 싶은 경우 `sayHi()`와 같이 ()를 붙여줘야 합니다.

### 함수 표현식

```jsx
let sayHi = function() {
	alert("Hello");
};
```

### 함수 복사

```jsx
function sayHi() {   // (1) 함수 생성
  alert( "Hello" );
}

let func = sayHi;    // (2) 함수 복사

func(); // Hello     // (3) 복사한 함수를 실행(정상적으로 실행됩니다)!
sayHi(); // Hello    //     본래 함수도 정상적으로 실행됩니다.
```

### 함수 선언문 vs 함수 표현식

1. 문법

*함수 선언문 : 함수는 주요 코드 흐름 중간에 독자적인 구문 형태로 존재*

```jsx
function sum(a,b) {
	return a+b;
}
```

*함수 표현식 : 함수는 표현식이나 구문 구성 내부에 생성.* 

```jsx
let sum = function(a,b) {
	return a+b;
};
```

1. 자바스크립트 엔진이 **함수 생성 시점**

**`함수 표현식`**은 **실제 실행 흐름이 해당 함수에 도달했을 때 함수를 생성**합니다. 

→ 실행 흐름이 함수에 도달했을 때부터 해당 함수를 사용할 수 있습니다.

`**함수 선언문**`은 **함수 선언문이 정의되기 전에도 호출할 수 있습니다.**

→ 전역 함수 선언문은 스크립트 어디에 있냐에 상관없이 어디에서든 사용할 수 있습니다. 

→ 자바스크립트는 스크립트를 실행하기 전, 준비 단계에서 전역에 선언된 함수 선언문을 찾고, 해당 함수를 생성합니다. 스크립트가 실제로 실행되기 전 “초기화 단계”에서 함수 선언 방식으로 정의한 함수가 생성됩니다.

```jsx
sayHi("John"); // Hello John

// 함수 선언문
function sayHi(name) {
	alert(`Hello, ${name}`);
}
```

→ 스크립트 실행 준비 단계에서 생성되므로, 스크립트 내 어디에서든 접근 가능합니다.

```jsx
sayHi("John"); // error

// 함수 표현식
let sayHi = function(name) { // (*)
	alert(`Hello, ${name}`);
}
```

→ 실행 흐름이 표현식에 다다랐을 때 만들어지므로 `(*)`로 표시한 줄에 실행 흐름에 도달했을 때 함수가 만들어집니다. 

1. 스코프

**엄격 모드에서 함수 선언문이 코드 블록 내에 위치하면 해당 함수는 블록 내 어디서든 접근할 수 있습니다. 하지만 블록 밖에서는 함수에 접근하지 못합니다.** 

```jsx
let age = prompt("나이를 알려주세요.", 18);

welcome(); // 안녕! (정상 동작 함 -> 함수가 선언된 코드 블록 내에 존재하기 때문)
// 조건에 따라 함수를 선언함
if (age < 18) {

  function welcome() {
    alert("안녕!");
  }

} else {

  function welcome() {
    alert("안녕하세요!");
  }

}

// 함수를 나중에 호출합니다.
welcome(); // Error: welcome is not defined
```

함수 선언문은 **함수가 선언된 코드 블록 안에서만 유효**하기 때문에 에러가 발생합니다. 

if문 밖에 선언한 변수에 함수 표현식으로 만든 함수를 할당하면 원하는 대로 동작합니다.

```jsx
let age = prompt("나이를 알려주세요.", 18);

let welcome;

if (age < 18) {

  welcome = function() {
    alert("안녕!");
  };

} else {

  welcome = function() {
    alert("안녕하세요!");
  };

}

welcome(); // 제대로 동작합니다.
```

### Summary

- 함수는 값입니다. 따라서 함수도 할당, 복사, 선언할 수 있습니다
- `함수 선언문` 방식으로 함수를 생성하면, 함수가 독립된 구문 형태로 존재하게 됩니다.
- `함수 표현식` 방식으로 함수를 생성하면, 함수가 표현식의 일부로 존재하게 됩니다.
- `함수 선언문`은 코드 블록이 실행되기도 전에 처리됩니다. **따라서 블록 내 어디서든 활용 가능합니다.**
- `함수 표현식`은 **실행 흐름이 표현식에 다다랐을 때 만들어집니다.**
